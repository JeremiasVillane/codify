<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <link rel="stylesheet" href="src/style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Codify: Live Code Editor</title>
  </head>
  <body>
    <div id="app">
      <header class="main-title">Codify: Live Code Editor</header>
      <main class="container">
        <section id="code" class="code-section">
          <div class="snippets">
            <div class="snippet">
              <label for="html-code">HTML</label>
              <textarea
                id="html-code"
                class="textarea-code"
                onkeyup="main()"
              ></textarea>
            </div>
            <div class="snippet">
              <label for="css-code">CSS</label>
              <textarea
                id="css-code"
                class="textarea-code"
                onkeyup="main()"
              ></textarea>
            </div>
            <div class="snippet">
              <label for="js-code">JavaScript</label>
              <textarea
                id="js-code"
                class="textarea-code"
                onkeyup="main()"
              ></textarea>
            </div>
          </div>
        </section>
        <section class="preview">
          <iframe id="preview"></iframe>
        </section>
      </main>
    </div>

    <script>
      function main() {
        let htmlCode = document.getElementById("html-code");
        let cssCode = document.getElementById("css-code");
        let jsCode = document.getElementById("js-code");
        let preview = document.getElementById("preview");

        preview.contentDocument.body.innerHTML =
          htmlCode.value + "<style>" + cssCode.value + "</style>";

        preview.contentWindow.eval(jsCode.value);
      }
    </script>
  </body>
</html>
